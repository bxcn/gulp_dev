/**  * kuaihuojian project - kuaihuojian project  */ "use strict";function checkDataList(e){var t=$("#orderId").val(),a=1==$("input[name='choucha']").prop("checked")?1:0,r=$("#smsSelect").find("option:selected").val(),i=$("#emailSelect").find("option:selected").val();$("#pagination").pager({id:"#searchinfo",template:"#handlebar-template",url:"/SpreadPlan/ajax_get_resumeinfo",data:{orderId:t,page:1,check:a,sms:r,email:i}})}var check=0,sms=0,email=0;$("#orderDetailViewPrice").dialog({width:790,height:320,title:"本次推送预计费用"}),$("#orderDetailViewPrice").dialog({width:790,height:320,title:"本次推送预计费用"}),$(".viewPriceDetail").click(function(){$("#orderDetailViewPrice").dialog("open")}),$("#stopPlan").click(function(){var e=$("#orderId").val();promptDialog("是否取消推广计划? ",{ok:function(){ajaxData.post({url:"/SpreadPlan/stop_plan",data:{orderId:e},success:function(e){e.state&&($("#stopPlan").removeClass("hand").addClass("stop-btn-disable").unbind("click"),$(".planState").html("已取消"))}})},cancel:function(){}})}),$("#smsSelect").size()&&($("#smsSelect").selectUI({width:150,height:30,name:"name",addClass:"commonSelect",init:function(e){},before:function(e){return!0},after:function(){checkDataList()}}),$("#emailSelect").selectUI({width:150,height:30,name:"name",addClass:"commonSelect",init:function(e){},before:function(e){return!0},after:function(){checkDataList()}})),$("input[name='choucha']").change(function(){checkDataList()}),$(function(){var e=$("#clickCanvas"),t=e.attr("data-total"),a=e.attr("data-curr"),r=+parseFloat(100*a/t).toFixed(2);$("#constrast").html(r)}),checkDataList(),function(e,t,a){e.fn.canvasChart=function(t){var a={},r=e.extend({},a,t),i=e(this).get(0),o=e(this).attr("data-total"),n=e(this).attr("data-curr"),c=parseFloat(n/o).toFixed(2),l=null;if(i.getContext){var s=Math.PI/2,d=2*Math.PI*c;l=i.getContext("2d"),l.translate(90,90),l.save(),l.beginPath(),l.strokeStyle="#e9e9e9",l.lineWidth="2",l.arc(0,0,85,0,2*Math.PI,!0),l.closePath(),l.stroke(),l.restore(),0!=n&&(l.save(),l.rotate(-s+Math.PI/180*2),l.beginPath(),l.strokeStyle=r.borderColor,l.lineWidth="2",l.arc(0,0,85,0,n%o==0?2*Math.PI:d-Math.PI/180*3,!1),l.stroke(),l.restore(),n%o!=0&&(l.save(),l.rotate(-s),l.beginPath(),l.fillStyle=r.borderColor,l.arc(83,2,2,0,2*Math.PI,!1),l.fill(),l.restore(),l.save(),l.rotate(d-s),l.beginPath(),l.fillStyle=r.borderColor,l.arc(83,-2,2,0,2*Math.PI,!1),l.fill(),l.restore()))}},e("#pullCanvas").canvasChart({borderColor:"#3ebfbe"}),e("#priceCanvas").canvasChart({borderColor:"#3ebfbe"}),e("#getCanvas").canvasChart({borderColor:"#3ebfbe"}),e("#clickCanvas").canvasChart({borderColor:"#3ebfbe"})}($,window);